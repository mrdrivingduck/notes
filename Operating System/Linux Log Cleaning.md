# Linux - Log Cleaning

Created by : Mr Dk.

2020 / 04 / 04 01:09

Ningbo, Zhejiang, China

---

ä¹‹å‰æœ‰ä¸€ä¸ªé—®é¢˜å›°æ‰°æˆ‘å¾ˆä¹…ï¼šåœ¨ Linux ä¸Šå¼€å§‹è¿è¡Œä¸€ä¸ªæœåŠ¡ï¼Œä½†æˆ‘åˆè¦æŸ¥çœ‹æ—¥å¿—ã€‚æ¯”å¦‚å¹³æ—¶ä¼šç”¨ *frp* åšå†…ç½‘ç©¿é€ã€‚ä¸€æ—¦å‡ºç°ç½‘ç»œæ³¢åŠ¨ï¼Œæ–­å¼€ã€è‡ªåŠ¨é‡è¿ã€æ–­å¼€ã€è‡ªåŠ¨é‡è¿......æ¯æ¬¡è¿æ¥éƒ½ä¼šäº§ç”Ÿæ—¥å¿—è®°å½•ã€‚

ä¸ºäº†æ–¹é¢æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œæˆ‘å°†æœåŠ¡çš„æ—¥å¿—è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚éšç€è¿™ä¸ªæ—¥å¿—æ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼Œç£ç›˜æ¸æ¸æ”¾ä¸ä¸‹äº†ã€‚æˆ‘å¤´ä¸€é“å°±åªèƒ½æŠŠè¿™ä¸ªæ—¥å¿—æ–‡ä»¶åˆ æ‰äº†ï¼Œä½†æ˜¯ä¸ºäº†åˆ è¿™ä¸ªæ–‡ä»¶ï¼Œ*frp* æœåŠ¡å¿…é¡»å¾—åœä¸‹ã€‚å¦‚æœè¿è¡Œ *frp* å®¢æˆ·ç«¯çš„å†…ç½‘æœºå™¨ä¸åœ¨æˆ‘èº«è¾¹ï¼Œå®¢æˆ·ç«¯çœ‹åˆ°æœåŠ¡ç«¯ *frp* æœåŠ¡å·²ç»åœæ­¢å°±ä¸å†è‡ªåŠ¨é‡è¿ã€‚æ‰€ä»¥ï¼Œå°±ç®—æˆ‘é‡æ–°å¯åŠ¨äº† *frp* æœåŠ¡ï¼Œè¿˜æ˜¯å’Œæˆ‘çš„è¿œç¨‹æœºå™¨å¤±è”äº†ã€‚

æœ‰æ²¡æœ‰åŠæ³•å¯ä»¥åœ¨ä¸åœæ­¢æœåŠ¡ (ä¸ä¸­æ–­ç¨‹åº) çš„å‰æä¸‹ï¼Œå°†ç£ç›˜ä¸Šçš„æ—¥å¿—æ–‡ä»¶æ¸…ç©ºï¼Ÿé€šè¿‡ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥ï¼š

```console
$ echo ' ' > server.log
```

é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œç£ç›˜ç©ºé—´ä¼šè¢«ç«‹åˆ»é‡Šæ”¾ï¼›åŒæ—¶è¿›ç¨‹ä¹Ÿå¯ä»¥ç»§ç»­å‘æ–‡ä»¶å†™å…¥æ—¥å¿—ï¼Œä¸å¿…é‡å¯æœåŠ¡ã€‚å¦‚æœæ—¥å¿—æ–‡ä»¶è¦ç•™å­˜åˆ«å¤„ï¼Œå¯ä»¥å…ˆ copy ä¸€ä»½æ—¥å¿—ï¼Œç„¶åå†æ•²ä¸Šè¿°å‘½ä»¤ã€‚

> ä» Linux å†…æ ¸çš„è§’åº¦è€ƒè™‘ä¸€ä¸‹è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ ğŸ¤”
>
> çŒœæµ‹ï¼š
>
> 1. å†…æ ¸å°†è¯¥æ–‡ä»¶çš„æ‰€æœ‰ç£ç›˜å—éƒ½ç›´æ¥ç½®ä¸ºæ— æ•ˆ (bitmap è®¾ç½®ä¸º 0ï¼Ÿ)
> 2. åˆ†é…æ–°çš„ç£ç›˜å—ï¼Œå¹¶å†™å…¥ `echo` çš„å†…å®¹
> 3. å°† `server.log` æ–‡ä»¶çš„ inode çš„èµ·å§‹ç£ç›˜å—å· (`i_zone[0]`) è®¾ç½®ä¸ºè¿™ä¸ªæ–°çš„ç£ç›˜å—å·

---

## Reference

https://www.jianshu.com/p/d3ffccbe82c5

---

